<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Accessible guitar tuner for blind and visually impaired users. Provides audio pitch detection with screen reader support.">
<title>Accessible Guitar Tuner</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
<style>
/* Custom styles to complement pico.css */
:root {
    --pico-font-size: 100%;
    --pico-line-height: 1.5;
}

body {
    max-width: 900px;
    margin: 0 auto;
    padding: 1rem;
}

/* Enhanced header styling */
h1 {
    font-size: 3rem;
    min-height: 1.2em;
    margin: 1.5rem 0;
    text-align: center;
    color: var(--pico-primary);
}

/* Tuner display card */
.tuner-display {
    background: var(--pico-card-background-color, #fff);
    border: 2px solid var(--pico-primary, #0284c7);
    border-radius: var(--pico-border-radius, 0.5rem);
    padding: 2rem;
    margin: 1.5rem 0;
    text-align: center;
    box-shadow: var(--pico-box-shadow, 0 4px 6px rgba(0, 0, 0, 0.1));
}

/* Frequency display enhancement */
.frequency-display {
    font-size: 1.75rem;
    font-weight: bold;
    color: var(--pico-contrast, #1a1a1a);
}

#note-name {
    font-size: 4rem;
    font-weight: bold;
    color: var(--pico-primary, #0284c7);
    margin: 1rem 0;
}

#frequency {
    color: var(--pico-muted, #6b7280);
    font-size: 2rem;
}

#confidence {
    font-size: 1.1rem;
    color: var(--pico-muted, #6b7280);
    font-weight: normal;
}

/* Button styling using pico classes */
.button {
    font-size: 1.2rem;
    padding: 1rem 2rem;
    margin: 0.5rem;
    border-radius: var(--pico-border-radius, 0.5rem);
    transition: all var(--pico-transition, 0.2s ease);
}

.button:hover {
    transform: translateY(-2px);
    box-shadow: var(--pico-box-shadow, 0 4px 12px rgba(0, 0, 0, 0.15));
}

.button:active {
    transform: translateY(0);
}

/* Status messages */
.status-message {
    margin: 1rem 0;
    padding: 1rem;
    border-radius: var(--pico-border-radius, 0.5rem);
    font-weight: 500;
    text-align: center;
}

.status-listening {
    background: var(--pico-primary-background, #d4edda);
    border: 1px solid var(--pico-primary, #0284c7);
    color: var(--pico-primary-inverse, #fff);
}

.status-error {
    background: var(--pico-error-background, #f8d7da);
    border: 1px solid var(--pico-error, #dc3545);
    color: var(--pico-error-inverse, #fff);
}

/* Instructions section */
.instructions {
    background: var(--pico-background-color, #f8f9fa);
    padding: 1.5rem;
    border-radius: var(--pico-border-radius, 0.5rem);
    margin: 1.5rem 0;
    border-left: 4px solid var(--pico-primary, #0284c7);
}

.instructions h2 {
    margin-top: 0;
    color: var(--pico-primary, #0284c7);
}

.instructions ol {
    padding-left: 1.5rem;
}

.instructions li {
    margin-bottom: 0.5rem;
    line-height: 1.6;
}

/* Navigation links */
nav {
    margin-top: 2rem;
    padding-top: 1rem;
    border-top: 1px solid var(--pico-muted-border, #e5e7eb);
    text-align: center;
}

nav a {
    color: var(--pico-primary, #0284c7);
    text-decoration: none;
    margin: 0 0.5rem;
}

nav a:hover {
    text-decoration: underline;
}

/* Responsive design */
@media (max-width: 768px) {
    h1 {
        font-size: 2rem;
    }
    
    #note-name {
        font-size: 2.5rem;
    }
    
    #frequency {
        font-size: 1.5rem;
    }
    
    .button {
        font-size: 1rem;
        padding: 0.875rem 1.5rem;
        width: 100%;
        max-width: 300px;
    }
    
    .tuner-display {
        padding: 1.5rem;
    }
}

/* Accessibility improvements */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* Focus visible for keyboard navigation */
:focus-visible {
    outline: 3px solid var(--pico-primary, #0284c7);
    outline-offset: 2px;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .tuner-display {
        border-width: 3px;
    }
    
    .button {
        border-width: 2px;
    }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
    :root {
        --pico-primary: #38bdf8;
        --pico-primary-background: #0c4a6e;
        --pico-background-color: #1f2937;
        --pico-card-background-color: #111827;
        --pico-contrast: #f9fafb;
        --pico-muted: #9ca3af;
    }
}
</style>
<script>
/**
 * Accessible Guitar Tuner - Main Application Script
 *
 * An accessible, browser-based guitar tuner using the Web Audio API
 * for pitch detection with comprehensive screen reader support.
 *
 * @author Accessible Guitar Tuner Team
 * @version 1.0.0
 * @license MIT
 */

// ============================================================================
// CONSTANTS AND CONFIGURATION
// ============================================================================

/** @constant {number} C2_FREQUENCY - Frequency of C2 note in Hz (base for octave calculations) */
const C2_FREQUENCY = 65.41;

/** @constant {string[]} NOTE_NAMES - Array of musical note names in ascending order */
const NOTE_NAMES = ["C", "C#", "D", "D#", "E", "F", "F#", "G", "G#", "A", "A#", "B"];

/** @constant {number} OCTAVES_TO_TEST - Number of octaves to generate test frequencies for */
const OCTAVES_TO_TEST = 30;

/** @constant {number} CONFIDENCE_THRESHOLD - Minimum confidence ratio for valid note detection */
const CONFIDENCE_THRESHOLD = 10;

/** @constant {number} VIBRATION_CONFIDENCE_PERCENT - Minimum confidence % to trigger vibration feedback */
const VIBRATION_CONFIDENCE_PERCENT = 20;

/** @constant {object} VIBRATION_PATTERNS - Vibration patterns for different feedback types */
const VIBRATION_PATTERNS = {
	/** Startup test pattern - two strong buzzes */
	STARTUP_TEST: [200, 100, 200],
	/** Success pattern - single buzz when note is in tune */
	SUCCESS: 200
};

// ============================================================================
// GLOBAL STATE
// ============================================================================

/** @type {Array} Test frequencies for pitch detection - generated on initialization */
let test_frequencies = [];

/** @type {string} Last announced note name (for change detection) */
let last_announced_note = "";

/** @type {number} Last announced frequency value (for change detection) */
let last_announced_frequency = 0;

/** @type {Worker} Web Worker for correlation calculations */
let correlation_worker = null;

// ============================================================================
// INITIALIZATION
// ============================================================================

/**
 * Initialize the guitar tuner application.
 * Sets up test frequencies, initializes microphone access, tests device capabilities,
 * and sets up event listeners.
 *
 * @function initialize
 * @returns {void}
 */
function initialize() {
	update_status("Initializing guitar tuner...");

	// Generate test frequencies for pitch detection
	generateTestFrequencies();

	// Initialize Web Worker for correlation calculations
	initializeCorrelationWorker();

	// Request microphone access
	requestMicrophoneAccess();

	// Test device vibration capability
	testVibrationCapability();

	// Announce readiness after initialization
	setTimeout(() => {
		announce_to_screen_reader("Guitar tuner ready. Play a note to begin tuning.", "polite");
	}, 1000);
}

/**
 * Generate test frequencies for pitch detection.
 * Creates 90 test frequencies (30 notes × 3 variations each: flat, in-tune, sharp)
 * starting from C2 (65.41 Hz).
 *
 * @function generateTestFrequencies
 * @returns {void}
 * @private
 */
function generateTestFrequencies() {
	for (let i = 0; i < OCTAVES_TO_TEST; i++) {
		const note_frequency = C2_FREQUENCY * Math.pow(2, i / 12);
		const note_name = NOTE_NAMES[i % 12];

		// Create three variations for each note: flat, in-tune, sharp
		const note = {
			frequency: note_frequency,
			name: note_name
		};

		const just_above = {
			frequency: note_frequency * Math.pow(2, 1 / 48),
			name: note_name + " (a bit sharp)"
		};

		const just_below = {
			frequency: note_frequency * Math.pow(2, -1 / 48),
			name: note_name + " (a bit flat)"
		};

		test_frequencies = test_frequencies.concat([just_below, note, just_above]);
	}
}

/**
 * Initialize the Web Worker for correlation calculations.
 * The worker handles the computationally intensive pitch detection algorithm.
 *
 * @function initializeCorrelationWorker
 * @returns {void}
 * @private
 */
function initializeCorrelationWorker() {
	correlation_worker = new Worker("correlation_worker.js");
	correlation_worker.addEventListener("message", interpret_correlation_result);
}

/**
 * Request microphone access from the user.
 * Uses modern MediaDevices API for cross-browser compatibility.
 *
 * @function requestMicrophoneAccess
 * @returns {void}
 * @private
 */
function requestMicrophoneAccess() {
	// Use modern MediaDevices API (supported in all modern browsers)
	if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
		navigator.mediaDevices.getUserMedia({ audio: true })
			.then(use_stream)
			.catch(handleMicrophoneError);
	} else {
		// Fallback for older browsers
		const get_user_media = navigator.getUserMedia ||
			navigator.webkitGetUserMedia ||
			navigator.mozGetUserMedia;

		if (get_user_media) {
			get_user_media.call(navigator, { "audio": true }, use_stream, handleMicrophoneError);
		} else {
			handleMicrophoneError(new Error("getUserMedia not supported in this browser"));
		}
	}
}

/**
 * Handle microphone access errors.
 * Updates the UI to inform the user of the error and provides guidance.
 *
 * @function handleMicrophoneError
 * @param {Error} error - The error object from getUserMedia
 * @returns {void}
 * @private
 */
function handleMicrophoneError(error) {
	console.error("Microphone access denied:", error);
	update_audio_status("❌ Microphone access denied");
	update_status("Error: Microphone access denied. Please allow microphone access to use the tuner.", "error");

	const note_element = document.getElementById("note-name");
	if (note_element) {
		note_element.textContent = "No audio input";
	}
}

// ============================================================================
// UI UPDATE FUNCTIONS
// ============================================================================

/**
 * Update the audio/microphone status display.
 * Changes text color based on status type (success/error/neutral).
 *
 * @function update_audio_status
 * @param {string} status - Status message to display
 * @returns {void}
 */
function update_audio_status(status) {
	const audio_status_element = document.getElementById("audio-status");
	if (!audio_status_element) {
		console.warn("audio-status element not found");
		return;
	}

	audio_status_element.textContent = status;

	// Set color based on status type
	if (status.includes("✅")) {
		audio_status_element.style.color = "green";
	} else if (status.includes("❌")) {
		audio_status_element.style.color = "red";
	} else {
		audio_status_element.style.color = "blue";
	}
}

/**
 * Update the main status message display.
 * Handles both error and informational messages with appropriate styling.
 *
 * @function update_status
 * @param {string} message - Status message to display
 * @param {string} [type="info"] - Message type: "error" or "info"
 * @returns {void}
 */
function update_status(message, type) {
	const status_element = document.getElementById("status-message");
	if (!status_element) {
		console.warn("status-message element not found");
		return;
	}

	status_element.textContent = message;
	status_element.className = "status-message";

	if (type === "error") {
		status_element.classList.add("status-error");
	} else {
		status_element.classList.add("status-listening");
	}

	status_element.style.display = "block";

	// Announce to screen reader for accessibility
	announce_to_screen_reader(message, "polite");
}

// ============================================================================
// AUDIO PROCESSING
// ============================================================================

/**
 * Handle successful microphone stream acquisition.
 * Sets up the audio context and processing pipeline for pitch detection.
 *
 * @function use_stream
 * @param {MediaStream} stream - The audio stream from getUserMedia
 * @returns {void}
 */
function use_stream(stream) {
	update_audio_status("✅ Microphone connected");
	update_status("Listening for notes...");

	// Create audio context with modern API (supports both legacy and modern browsers)
	const audio_context = new (window.AudioContext || window.webkitAudioContext)();
	const microphone = audio_context.createMediaStreamSource(stream);

	// Store microphone globally to prevent garbage collection
	// Workaround for Firefox bug: https://bugzilla.mozilla.org/show_bug.cgi?id=934512
	window.source = microphone;

	const script_processor = audio_context.createScriptProcessor(1024, 1, 1);

	// Connect audio processing pipeline
	script_processor.connect(audio_context.destination);
	microphone.connect(script_processor);

	// Audio capture state
	const buffer = [];
	const sample_length_milliseconds = 100;
	let recording = true;

	/**
	 * Capture and process audio samples.
	 * Collects audio data and sends it to the Web Worker for pitch detection.
	 *
	 * @param {AudioProcessingEvent} event - Audio processing event from ScriptProcessor
	 */
	window.capture_audio = function(event) {
		if (!recording) return;

		// Collect audio samples
		const audio_data = event.inputBuffer.getChannelData(0);
		buffer.push(...Array.from(audio_data));

		// Process when we have enough samples
		if (buffer.length > sample_length_milliseconds * audio_context.sampleRate / 1000) {
			recording = false;

			// Send data to Web Worker for correlation analysis
			correlation_worker.postMessage({
				timeseries: buffer,
				test_frequencies: test_frequencies,
				sample_rate: audio_context.sampleRate
			});

			// Reset buffer and resume recording
			buffer.length = 0;
			setTimeout(() => { recording = true; }, 250);
		}
	};

	script_processor.onaudioprocess = window.capture_audio;
}

// ============================================================================
// PITCH DETECTION
// ============================================================================

/**
 * Interpret correlation results from the Web Worker.
 * Analyzes frequency amplitudes to identify the detected note and updates the UI.
 *
 * @function interpret_correlation_result
 * @param {MessageEvent} event - Message event containing correlation data
 * @param {Array} event.data.timeseries - Audio time series data
 * @param {Array} event.data.frequency_amplitudes - Complex amplitudes for each test frequency
 * @returns {void}
 */
function interpret_correlation_result(event) {
	const frequency_amplitudes = event.data.frequency_amplitudes;

	// Calculate magnitudes from complex amplitudes
	const magnitudes = frequency_amplitudes.map(z => z[0] * z[0] + z[1] * z[1]);

	// Find dominant frequency
	const { maximum_index, maximum_magnitude } = findMaximumMagnitude(magnitudes);

	// Calculate confidence ratio
	const average = magnitudes.reduce((a, b) => a + b, 0) / magnitudes.length;
	const confidence = maximum_magnitude / average;

	// Process only if confidence exceeds threshold
	if (confidence > CONFIDENCE_THRESHOLD) {
		const dominant_frequency = test_frequencies[maximum_index];
		processDetectedNote(dominant_frequency, confidence);
	}
}

/**
 * Find the maximum magnitude and its index from an array.
 *
 * @function findMaximumMagnitude
 * @param {number[]} magnitudes - Array of magnitude values
 * @returns {{maximum_index: number, maximum_magnitude: number}} Index and value of maximum
 * @private
 */
function findMaximumMagnitude(magnitudes) {
	let maximum_index = -1;
	let maximum_magnitude = 0;

	for (let i = 0; i < magnitudes.length; i++) {
		if (magnitudes[i] <= maximum_magnitude) continue;

		maximum_index = i;
		maximum_magnitude = magnitudes[i];
	}

	return { maximum_index, maximum_magnitude };
}

/**
 * Process a detected note and update the UI accordingly.
 * Handles display updates, screen reader announcements, and vibration feedback.
 *
 * @function processDetectedNote
 * @param {{frequency: number, name: string}} dominant_frequency - Detected frequency data
 * @param {number} confidence - Confidence ratio of the detection
 * @returns {void}
 * @private
 */
function processDetectedNote(dominant_frequency, confidence) {
	const note_name = dominant_frequency.name;
	const frequency = dominant_frequency.frequency.toFixed(2);

	// Update note display
	updateNoteDisplay(note_name, frequency);

	// Announce note change to screen reader
	announceNoteChange(note_name, frequency);

	// Update confidence display
	updateConfidenceDisplay(confidence);

	// Provide vibration feedback if note is in tune
	provideVibrationFeedback(dominant_frequency, confidence);
}

/**
 * Update the note display in the UI.
 *
 * @function updateNoteDisplay
 * @param {string} note_name - Name of the detected note
 * @param {string} frequency - Frequency value in Hz
 * @returns {void}
 * @private
 */
function updateNoteDisplay(note_name, frequency) {
	const note_element = document.getElementById("note-name");
	const frequency_element = document.getElementById("frequency");

	if (note_element) {
		note_element.textContent = note_name;
	}

	if (frequency_element) {
		frequency_element.textContent = frequency;
	}
}

/**
 * Announce note changes to screen reader only when significant changes occur.
 * Prevents excessive announcements for minor frequency fluctuations.
 *
 * @function announceNoteChange
 * @param {string} note_name - Current note name
 * @param {string} frequency - Current frequency value
 * @returns {void}
 * @private
 */
function announceNoteChange(note_name, frequency) {
	const frequency_num = parseFloat(frequency);

	if (note_name !== last_announced_note ||
		Math.abs(frequency_num - last_announced_frequency) > 0.5) {

		const announcement = `Detected ${note_name} at ${frequency} Hertz`;
		announce_to_screen_reader(announcement, "polite");

		last_announced_note = note_name;
		last_announced_frequency = frequency_num;
	}
}

/**
 * Update the confidence display in the UI.
 *
 * @function updateConfidenceDisplay
 * @param {number} confidence - Raw confidence ratio
 * @returns {void}
 * @private
 */
function updateConfidenceDisplay(confidence) {
	const confidence_percent = Math.min(100, Math.round((confidence - CONFIDENCE_THRESHOLD) / 90 * 100));
	const confidence_element = document.getElementById("confidence");

	if (confidence_element) {
		confidence_element.textContent = `Confidence: ${confidence_percent}%`;
	}
}

/**
 * Provide vibration feedback when a note is detected as in tune.
 * Only vibrates for exact notes (not sharp/flat) with sufficient confidence.
 *
 * @function provideVibrationFeedback
 * @param {{frequency: number, name: string}} dominant_frequency - Detected frequency data
 * @param {number} confidence - Detection confidence ratio
 * @returns {void}
 * @private
 */
function provideVibrationFeedback(dominant_frequency, confidence) {
	const confidence_percent = Math.min(100, Math.round((confidence - CONFIDENCE_THRESHOLD) / 90 * 100));

	const is_in_tune = dominant_frequency.name.indexOf('sharp') === -1 &&
		dominant_frequency.name.indexOf('flat') === -1 &&
		confidence_percent > VIBRATION_CONFIDENCE_PERCENT;

	if (is_in_tune) {
		console.log("Note in tune! Confidence:", confidence_percent, "%");
		vibrate_for_success();
	}
}

// ============================================================================
// ACCESSIBILITY FUNCTIONS
// ============================================================================

/**
 * Announce a message to screen readers using ARIA live regions.
 * Creates a temporary element that's announced and then removed.
 *
 * @function announce_to_screen_reader
 * @param {string} message - Message to announce to screen reader users
 * @param {string} [priority="polite"] - ARIA live priority: "polite", "assertive", or "off"
 * @returns {void}
 */
function announce_to_screen_reader(message, priority) {
	// Create announcement element with proper ARIA attributes
	const announcer = document.createElement("div");
	announcer.setAttribute("role", "status");
	announcer.setAttribute("aria-live", priority || "polite");
	announcer.setAttribute("aria-atomic", "true");
	announcer.className = "sr-only";
	announcer.textContent = message;

	// Add to DOM, then remove after announcement
	document.body.appendChild(announcer);

	// Remove element after announcement delay (1 second is standard for screen readers)
	setTimeout(() => {
		if (document.body.contains(announcer)) {
			document.body.removeChild(announcer);
		}
	}, 1000);
}

// ============================================================================
// VIBRATION FEEDBACK
// ============================================================================

/**
 * Test device vibration capability and update the UI accordingly.
 * Performs a test vibration pattern and displays the results to the user.
 *
 * @function testVibrationCapability
 * @returns {void}
 * @private
 */
function testVibrationCapability() {
	const vibration_status = document.getElementById("vibration-status");
	if (!vibration_status) {
		console.warn("vibration-status element not found");
		return;
	}

	console.log("Testing vibration API...");

	try {
		if ("vibrate" in navigator) {
			console.log("Vibration API found - testing vibration pattern...");

			// Perform test vibration
			const test_result = navigator.vibrate(VIBRATION_PATTERNS.STARTUP_TEST);
			console.log("Vibration API called, result:", test_result);

			// Update UI to show API is supported
			vibration_status.innerHTML = "✅ Vibration API supported (you should feel 2 buzzes)";
			vibration_status.style.color = "green";
			vibration_status.style.fontWeight = "bold";

			// Add additional information after a delay
			setTimeout(() => {
				const additional_info = document.createElement("span");
				additional_info.style.fontSize = "0.8em";
				additional_info.style.display = "block";
				additional_info.style.marginTop = "0.3em";
				additional_info.textContent = "Note: Some browsers/devices require user interaction first";
				vibration_status.appendChild(additional_info);
			}, 1000);

		} else {
			console.log("Vibration API not found");
			vibration_status.innerHTML = "❌ Vibration not supported on this device/browser";
			vibration_status.style.color = "red";
			vibration_status.style.fontWeight = "bold";
		}
	} catch (error) {
		console.log("Vibration test error:", error);
		vibration_status.innerHTML = `⚠️ Vibration error: ${error.message}`;
		vibration_status.style.color = "orange";
		vibration_status.style.fontWeight = "bold";
	}
}

/**
 * Provide vibration feedback when a note is detected as perfectly in tune.
 * Uses a short vibration burst to give immediate tactile feedback.
 *
 * @function vibrate_for_success
 * @returns {void}
 */
function vibrate_for_success() {
	if (!("vibrate" in navigator)) {
		console.log("Vibration not supported on this device");
		return;
	}

	console.log("Vibrating for in-tune note");

	try {
		const result = navigator.vibrate(VIBRATION_PATTERNS.SUCCESS);
		console.log("Vibration result:", result);
	} catch (error) {
		console.log("Vibration error:", error);
	}
}

// ============================================================================
// APPLICATION STARTUP
// ============================================================================

// Initialize application when DOM is fully loaded
window.addEventListener("load", initialize);
</script>
</head>

<body>
<main class="container">
    <header>
        <h1>Accessible Guitar Tuner</h1>
    </header>
    
    <div class="instructions" role="region" aria-labelledby="instructions-heading">
        <h2 id="instructions-heading">How to Use</h2>
        <ol class="breadcrumbs-list">
            <li><strong>Allow microphone access</strong> when prompted</li>
            <li><strong>Play a note</strong> on your guitar or other instrument</li>
            <li><strong>Listen</strong> for the note name and frequency announcement</li>
            <li><strong>Feel the vibration</strong> when your note is perfectly in tune (on supported devices)</li>
        </ol>
        <p><strong>For screen reader users:</strong> This tuner will automatically announce detected notes. Make sure your screen reader is running and note announcements are enabled.</p>
        <p><strong>Vibration feedback:</strong> <span id="vibration-status">Checking...</span> When you play a note that's in tune, your device will vibrate.</p>
        <p><strong>Audio status:</strong> <span id="audio-status">Checking...</span></p>
    </div>
    
    <div id="status-message" class="status-message" role="status" aria-live="polite" aria-atomic="true" style="display: none;"></div>
    
    <section class="tuner-display" role="region" aria-labelledby="tuner-heading">
        <div class="grid">
        <h2 id="tuner-heading" class="sr-only">Tuner Display</h2>
            <div>
                <p><strong>It sounds like you're playing...</strong></p>
                <h1 id="note-name" aria-live="polite" aria-atomic="true" tabindex="0"></h1>
            </div>
            <div>
                <p class="frequency-display">
                    <span id="confidence" aria-live="polite"></span>
                    <span>Frequency:</span>
                    <span id="frequency" aria-live="polite" aria-atomic="true"></span>
                    <span> Hertz</span>
                </p>
            </div>
        </div>
    </section>
    
    <section role="region" aria-labelledby="controls-heading">
        <h2 id="controls-heading" class="sr-only">Controls</h2>
        <div class="grid">
        </div>
    </section>
    
    <nav role="navigation" aria-labelledby="links-heading">
        <h2 id="links-heading" class="sr-only">Related Links</h2>
        <a href="https://github.com/barakplasma/Accessible-guitar-tuner">Source code</a> /
        <a href="http://jonathan.bergknoff.com/journal/making-a-guitar-tuner-html5">Explanatory article</a>
    </nav>
</main>
</body>
</html>
